version: '2'
services:
  pyspark:
    image: jupyter/pyspark-notebook:spark-3.3.0
    user: root
    container_name: pyspark
    ports:
      - 8888:8888
      - 4040:4040
    environment:
      JUPYTER_PORT: 8888
      SPARK_UI_PORT: 4040
      GRANT_SUDO: "yes"
    volumes:
      - ./data:/home/jovyan/data
      - ./scripts:/home/jovyan/scripts
    networks:
      - dataeng-data-platform

networks:
  dataeng-data-platform:
    external: true


volumes:
  streaming_data: